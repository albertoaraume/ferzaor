document.addEventListener("DOMContentLoaded",function(){n(),i(),window.addEventListener("livewire:load",function(){i(),setTimeout(()=>{n()},100)}),window.addEventListener("livewire:update",function(e){i(),setTimeout(()=>{n()},100)}),window.addEventListener("refreshDataTable",function(){setTimeout(()=>{i(),n()},100)})});function n(){$.fn.DataTable.isDataTable("#toursTable")&&$("#toursTable").DataTable().destroy(),$("#toursTable").DataTable({responsive:!1,autoWidth:!1,scrollX:!0,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"Todos"]],bFilter:!0,sDom:"fBtlpi",ordering:!0,buttons:[{extend:"excel",text:'<i class="fas fa-file-excel"></i> Exportar a Excel',className:"btn btn-success btn-sm",exportOptions:{columns:":visible:not(:first-child)"}}],language:{lengthMenu:"Mostrar _MENU_",search:"",searchPlaceholder:"Buscar...",info:"_START_ a _END_ de _TOTAL_ registros",infoEmpty:"Mostrando 0 a 0 de 0 registros",infoFiltered:"(filtrado de _MAX_ registros totales)",emptyTable:`
<div class="text-center py-5">
    <i class="fas fa-map text-muted" style="font-size: 3rem; margin-bottom: 1rem;"></i>
    <h5 class="text-muted mb-2">No hay tours disponibles</h5>
    <p class="text-muted mb-3">No se encontraron registros con los filtros aplicados.</p>
    <button class="btn btn-outline-primary btn-sm" wire:click="refresh">
        <i class="fas fa-refresh me-1"></i>
        Actualizar datos
    </button>
</div>
`,zeroRecords:"No se encontraron registros coincidentes",paginate:{next:"<i class='fa fa-angle-right'></i>",previous:"<i class='fa fa-angle-left'></i>",first:"Primero",last:"Ãšltimo"},aria:{sortAscending:": activar para ordenar la columna de forma ascendente",sortDescending:": activar para ordenar la columna de forma descendente"},processing:"Procesando...",loadingRecords:"Cargando..."},initComplete:function(e,t){a()},drawCallback:e=>{setTimeout(()=>{$(".search-input .dataTables_filter").length===0&&o()},50)}})}function o(){$(".search-input .dataTables_filter").length===0&&$(".dataTables_filter").length>0&&a(),$(".excel-button-container .buttons-excel").length===0&&$(".dt-buttons .buttons-excel").length>0&&$(".dt-buttons .buttons-excel").appendTo(".excel-button-container")}function a(){$(".dataTables_filter").length&&$(".search-input").length&&$(".dataTables_filter").appendTo(".search-input"),$(".dataTables_paginate").length&&$(".pagination-container").length&&$(".dataTables_paginate").appendTo(".pagination-container"),$(".dataTables_length").length&&$(".length-container").length&&$(".dataTables_length").appendTo(".length-container"),$(".dataTables_info").length&&$(".info-container").length&&($(".dataTables_info").appendTo(".info-container"),$(".dataTables_info").removeClass("dataTables_info")),$(".dt-buttons .buttons-excel").length&&$(".excel-button-container").length&&$(".dt-buttons .buttons-excel").appendTo(".excel-button-container")}function i(){$("#cliente").select2({width:"100%"}),$("#locacion").select2({width:"100%"}),$("#estado").select2({width:"100%"}),$("#tour").select2({width:"100%"}),$("#proveedor").select2({width:"100%"});let e;$("#cliente").off("change.customEvent").on("change.customEvent",function(t){clearTimeout(e),e=setTimeout(()=>{window.Livewire.find(document.querySelector("[wire\\:id]").getAttribute("wire:id")).set("clienteId",$(this).val())},300)}),$("#locacion").off("change.customEvent").on("change.customEvent",function(t){clearTimeout(e),e=setTimeout(()=>{window.Livewire.find(document.querySelector("[wire\\:id]").getAttribute("wire:id")).set("locacionId",$(this).val())},300)}),$("#estado").off("change.customEvent").on("change.customEvent",function(t){clearTimeout(e),e=setTimeout(()=>{window.Livewire.find(document.querySelector("[wire\\:id]").getAttribute("wire:id")).set("estado",$(this).val())},300)}),$("#tour").off("change.customEvent").on("change.customEvent",function(t){clearTimeout(e),e=setTimeout(()=>{window.Livewire.find(document.querySelector("[wire\\:id]").getAttribute("wire:id")).set("tourId",$(this).val())},300)}),$("#proveedor").off("change.customEvent").on("change.customEvent",function(t){clearTimeout(e),e=setTimeout(()=>{window.Livewire.find(document.querySelector("[wire\\:id]").getAttribute("wire:id")).set("proveedorId",$(this).val())},300)})}
