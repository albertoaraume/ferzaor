document.addEventListener("DOMContentLoaded",function(){n(),i();function i(){document.querySelectorAll('[data-bs-toggle="tab"]').forEach(e=>{e.addEventListener("shown.bs.tab",function(s){const a=s.target.getAttribute("data-table-id");console.log("Tab activado:",a),setTimeout(()=>{c(a)},100)})})}function c(t){$.fn.DataTable.isDataTable("#"+t)&&$("#"+t).DataTable().destroy(),$("#"+t).length&&$("#"+t).DataTable({responsive:!1,autoWidth:!1,scrollX:!0,bFilter:!0,ordering:!0,paging:!1,info:!1,lengthChange:!1,language:{search:"",searchPlaceholder:"Buscar..."},columnDefs:[{targets:"_all",className:"text-nowrap"}]}),document.querySelectorAll(".toggle-agencias").forEach(function(e){e.addEventListener("click",function(){const s=this.getAttribute("data-agencia-id"),a=document.querySelector(`.actividades-row[data-agencia-id="${s}"]`),o=this.querySelector("i");a.classList.contains("d-none")?(a.classList.remove("d-none"),o.classList.remove("ti-chevron-down"),o.classList.add("ti-chevron-up")):(a.classList.add("d-none"),o.classList.remove("ti-chevron-up"),o.classList.add("ti-chevron-down"))})})}function n(){["productos-table","productos-actividades-table","productos-yates-table","productos-servicios-table","productos-tours-table"].forEach(e=>{$.fn.DataTable.isDataTable("#"+e)&&$("#"+e).DataTable().destroy()}),c("productos-table")}window.addEventListener("livewire:load",function(){n()}),window.addEventListener("livewire:update",function(t){setTimeout(()=>{n(),i()},100)}),window.addEventListener("refreshDataTable",function(){setTimeout(()=>{n()},100)})});
